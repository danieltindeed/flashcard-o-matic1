{"ast":null,"code":"var _jsxFileName = \"/Users/danielt/Thinkful/flashcard-o-matic1/src/components/Card/AddCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { createCard, readDeck } from \"../../utils/api/index\";\nimport CardForm from \"./CardForm\";\nimport Breadcrumb from \"../../Layout/Breadcrumb\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddCard() {\n  _s();\n  const {\n    deckId\n  } = useParams();\n  const history = useHistory();\n  const initialState = {\n    front: \"\",\n    back: \"\"\n  };\n  const [newCard, setNewCard] = useState(initialState);\n  const [deck, setDeck] = useState({});\n  useEffect(() => {\n    async function fetchData() {\n      const abortController = new AbortController();\n      const response = await readDeck(deckId, abortController.signal);\n      setDeck(response);\n    }\n    fetchData();\n    return () => {\n      setNewCard({});\n    };\n  }, [deckId]);\n  function handleChange({\n    target\n  }) {\n    setNewCard({\n      ...newCard,\n      [target.name]: target.value\n    });\n  }\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const abortController = new AbortController();\n    const response = await createCard(deckId, {\n      ...newCard\n    }, abortController.signal);\n    history.push(`/decks/${deckId}`);\n    setNewCard({});\n    return response;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n      crumbs: [\"Home\", \"Deck\", \"Add Card\"],\n      currentDeck: deck\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [deck.name, \": Add Card\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(CardForm, {\n        card: newCard,\n        handleChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n_s(AddCard, \"0SkIxEQ94pF8tOblQMeBkMMe9l4=\", false, function () {\n  return [useParams, useHistory];\n});\n_c = AddCard;\nexport default AddCard;\nvar _c;\n$RefreshReg$(_c, \"AddCard\");","map":{"version":3,"names":["React","useState","useEffect","useHistory","useParams","createCard","readDeck","CardForm","Breadcrumb","jsxDEV","_jsxDEV","AddCard","_s","deckId","history","initialState","front","back","newCard","setNewCard","deck","setDeck","fetchData","abortController","AbortController","response","signal","handleChange","target","name","value","handleSubmit","event","preventDefault","push","children","crumbs","currentDeck","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","card","_c","$RefreshReg$"],"sources":["/Users/danielt/Thinkful/flashcard-o-matic1/src/components/Card/AddCard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {useHistory, useParams } from \"react-router-dom\";\nimport { createCard, readDeck } from \"../../utils/api/index\";\nimport CardForm from \"./CardForm\";\nimport Breadcrumb from \"../../Layout/Breadcrumb\";\n\nfunction AddCard() {\n    const { deckId } = useParams();\n    const history = useHistory();\n    const initialState = {\n        front: \"\",\n        back: \"\",\n    };\n\n    const [newCard, setNewCard] = useState(initialState);\n    const [deck, setDeck] = useState({});\n\n    useEffect(() => {\n        async function fetchData() {\n            const abortController = new AbortController();\n            const response = await readDeck(deckId, abortController.signal);\n            setDeck(response);\n        }\n        fetchData();\n        return () => {\n            setNewCard({});\n        };\n    }, [deckId]);\n\n    function handleChange({ target }) {\n        setNewCard({\n            ...newCard,\n            [target.name]: target.value,\n        });\n    }\n\n    async function handleSubmit(event) {\n        event.preventDefault();\n        const abortController = new AbortController();\n        const response = await createCard(\n            deckId,\n            { ...newCard },\n            abortController.signal\n        );\n        history.push(`/decks/${deckId}`);\n        setNewCard({});\n        return response;\n    }\n\n    return (\n        <div>\n            <Breadcrumb\n                crumbs={[\"Home\", \"Deck\", \"Add Card\"]}\n                currentDeck={deck}\n            />\n            <h2>{deck.name}: Add Card</h2>\n            <form onSubmit={handleSubmit}>\n                <CardForm\n                    card={newCard}\n                    handleChange={handleChange}\n                />\n            </form>\n        </div>\n    );\n}\n\nexport default AddCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}