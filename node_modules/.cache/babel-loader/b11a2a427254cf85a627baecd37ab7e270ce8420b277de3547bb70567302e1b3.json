{"ast":null,"code":"var _jsxFileName = \"/Users/danielt/Thinkful/flashcard-o-matic1/src/components/Card/EditCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { readCard, readDeck, updateCard } from \"../../utils/api/index\";\nimport CardForm from \"./CardForm\";\nimport Breadcrumb from \"../../Layout/Breadcrumb\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditCard() {\n  _s();\n  const {\n    deckId,\n    cardId\n  } = useParams();\n  const history = useHistory();\n  const initialDeckState = {\n    id: \"\",\n    name: \"\",\n    description: \"\"\n  };\n  const initialCardState = {\n    id: \"\",\n    front: \"\",\n    back: \"\",\n    deckId: \"\"\n  };\n  const [card, setCard] = useState({\n    initialCardState\n  });\n  const [deck, setDeck] = useState({\n    initialDeckState\n  });\n  useEffect(() => {\n    async function fetchData() {\n      const abortController = new AbortController();\n      const cardResponse = await readCard(cardId, abortController.signal);\n      const deckResponse = await readDeck(deckId, abortController.signal);\n      setCard(cardResponse);\n      setDeck(deckResponse);\n    }\n    fetchData();\n  }, []);\n  function handleChange({\n    target\n  }) {\n    setCard({\n      ...card,\n      [target.name]: target.value\n    });\n  }\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const abortController = new AbortController();\n    const response = await updateCard({\n      ...card\n    }, abortController.signal);\n    history.push(`/decks/${deckId}`);\n    return response;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\" \", /*#__PURE__*/_jsxDEV(Breadcrumb, {\n      crumbs: [\"Home\", \"Deck\", \"Edit Card\"],\n      currentDeck: deck\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit Card\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(CardForm, {\n        card: card,\n        handleChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(EditCard, \"GPMxE9ksXQc+jlwgxHdFwhCtK+I=\", false, function () {\n  return [useParams, useHistory];\n});\n_c = EditCard;\nexport default EditCard;\nvar _c;\n$RefreshReg$(_c, \"EditCard\");","map":{"version":3,"names":["React","useState","useEffect","useHistory","useParams","readCard","readDeck","updateCard","CardForm","Breadcrumb","jsxDEV","_jsxDEV","EditCard","_s","deckId","cardId","history","initialDeckState","id","name","description","initialCardState","front","back","card","setCard","deck","setDeck","fetchData","abortController","AbortController","cardResponse","signal","deckResponse","handleChange","target","value","handleSubmit","event","preventDefault","response","push","children","crumbs","currentDeck","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","_c","$RefreshReg$"],"sources":["/Users/danielt/Thinkful/flashcard-o-matic1/src/components/Card/EditCard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {useHistory, useParams } from \"react-router-dom\";\nimport { readCard, readDeck, updateCard } from \"../../utils/api/index\";\nimport CardForm from \"./CardForm\";\nimport Breadcrumb from \"../../Layout/Breadcrumb\";\n\nfunction EditCard() {\n    const { deckId, cardId } = useParams();\n    const history = useHistory();\n    const initialDeckState = {\n        id: \"\",\n        name: \"\",\n        description: \"\",\n    };\n    const initialCardState = {\n        id: \"\",\n        front: \"\",\n        back: \"\",\n        deckId: \"\",\n    };\n\n    const [card, setCard] = useState({initialCardState});\n    const [deck, setDeck] = useState({initialDeckState});\n\n    useEffect(() => {\n        async function fetchData() {\n            const abortController = new AbortController();\n            const cardResponse = await readCard(\n                cardId,\n                abortController.signal\n            );\n            const deckResponse = await readDeck(\n                deckId,\n                abortController.signal\n            );\n            setCard(cardResponse);\n            setDeck(deckResponse);\n        }\n        fetchData();\n    }, []);\n\n    function handleChange({ target }) {\n        setCard({\n            ...card,\n            [target.name]: target.value,\n        });\n    }\n\n    async function handleSubmit(event) {\n        event.preventDefault();\n        const abortController = new AbortController();\n        const response = await updateCard({ ...card }, abortController.signal);\n        history.push(`/decks/${deckId}`);\n        return response;\n    }\n\n    return (\n        <div> <Breadcrumb\n            crumbs={[\"Home\", \"Deck\", \"Edit Card\"]}\n            currentDeck={deck}\n        />\n            <h2>Edit Card</h2>\n            <form onSubmit={handleSubmit}>\n                <CardForm\n                    card={card}\n                    handleChange={handleChange}\n                />\n            </form>\n        </div>\n    );\n}\n\nexport default EditCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}